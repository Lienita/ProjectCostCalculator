# CostCalculator documentation

## Overview 

The CostCalculator solution implements a library that calculates the final project cost for NuPack's Pricing Problem.

This README file explains how to use the CostCalculator library for NuPack Pricing Problem, which is freely available on the web at https://github.com/Lienita/ProjectCostCalculator

It includes Java source code files in a folder named [costcalculator](https://github.com/Lienita/ProjectCostCalculator/tree/master/src/costcalculator)


## Run in an IDE 

The project can be run in an IDE, such as Eclipse, by downloading and importing the solution provided.


## Run from the command line

After the ProjectCostCalculator has been imported to Eclipse, a JAR file can be generated by right-clicking on ProjectCostCalculator, click on "Export", "Java", "JAR file". This JAR file then can be used in a simple sample program, i.e.

 ```Java
import costcalculator;

public class TheClient {
  public static void main(String[ ] args) {
     
     //variable declaration
     double costForExample1; 
     costcalculator.DefaultCostCalculator cost = new costcalculator.DefaultCostCalculator();
     
     costForExample1 = cost.getProjectCost(1299.99, 3, "food");
     System.out.println("The final project cost for example 1 of NuPack Pricing Problem is: " + costForExample1);
          
     }
}
 ```
 Then on the command line:

 javac TheClient.java
 java -cp costcalculator.jar:. TheClient

## Project Code Example
  
 ```Java
package costcalculator;

/**
 * <h1>DefaultCostCalculator</h1>
 * <p>
 * DefaultCostCalculator is an instantiable class that implements CostCalculator interface.
 * It provides the method body for the getProjectCost() method declared in the CostCalculator interface.
 * <p>
 */
public class DefaultCostCalculator implements CostCalculator {

  @Override
  public double getProjectCost(double basePrice, int peopleCount, String markup) {

    // Variable and Object declaration
    double flatMarkup, personMarkup, categoryTypeMarkup, finalCost;
    Markup flat = new FlatMarkup();
    Markup person = new PersonMarkup();

    // Checks for a null markup argument
    if(markup == null) {
      throw new CostCalculatorException("Markup is required");
    }
    
    // Defines the markup category to be used in the calculation
    Markup categoryType = new MarkupBuilder().buildMarkup(markup);
    
    // Checks for invalid negative arguments: base price and number of persons 
    if (basePrice < 0 || peopleCount < 0) {
            throw new IllegalArgumentException("The base price and number of people should not be less than 0");
        }

    // calculating the flat markup 
        flatMarkup = basePrice * flat.getPercent();
    // calculating the person markup 
        personMarkup = flatMarkup * peopleCount * person.getPercent();  
    // calculating the category type markup 
        categoryTypeMarkup = flatMarkup * categoryType.getPercent() ;
    // calculating the final cost of the project
        finalCost = flatMarkup + personMarkup + categoryTypeMarkup;

        // rounds the final cost to 2 decimal places
        return Math.round(finalCost * 100) / 100.00;
  }

}
```
## JUnit Tests

A variety of unit test were designed to test the class methods of the library. 
The full list of Test Classes are:
 - DefaultCostCalculatorTest
 - FlatMarkupTes
 - MarkupBuilderTest
 - PersonMarkupTest

See an example below:

```Java
package costcalculator;

import org.junit.Assert;
import org.junit.Test;

/**
 * <h1>DefaultCostCalculatorTest</h1>
 * <p>
 * DefaultCostCalculatorTest is an instantiable class that tests the 3 examples provided for NuPack's Pricing Problem through the method(s):
 * <p>
 * testCostCalculatorForExample1(), 
 *  <p>
 *  testCostCalculatorForExample2(),
 *  <p>
 *  testCostCalculatorForExample3(),
 *  <p>
 *  and testCostCalculatorWithoutMarkup().
 * <p> 
 */
public class DefaultCostCalculatorTest {
  
  @Test
  public void testCostCalculatorForExample1(){
    DefaultCostCalculator costCalculator = new DefaultCostCalculator();
    
    double projectCost = costCalculator.getProjectCost(1299.99, 3, "food");
    
    Assert.assertEquals(1591.58, projectCost, 0); 
  }
    
  @Test
  public void testCostCalculatorForExample2(){
    DefaultCostCalculator costCalculator = new DefaultCostCalculator();
    
    double projectCost = costCalculator.getProjectCost(5432.00, 1, "drugs");
    
    Assert.assertEquals(6199.81, projectCost, 0); 
  }
  
  @Test
  public void testCostCalculatorForExample3(){
    DefaultCostCalculator costCalculator = new DefaultCostCalculator();
    
    double projectCost = costCalculator.getProjectCost(12456.95, 4, "books");
    
    Assert.assertEquals(13707.63, projectCost, 0); 
  }

    @Test (expected = CostCalculatorException.class)
  public void testCostCalculatorWithoutMarkup(){
    DefaultCostCalculator costCalculator = new DefaultCostCalculator();
    
    costCalculator.getProjectCost(55, 3, null);
    
  }
}
```

## Run the JUnit tests from Eclipse

Each of the tests can be run from within Eclipse by right-clicking on each method of the Test Classes, click on "Run As", "JUnit Test"


## Run the JUnit tests from the command line

To run the Test from the command line, the JAR file has to be created and the junit.jar copied to the same path, then:

java -cp ProjectCostCalculator.jar;junit.jar org.junit.runner.JUnitCore [test class name]

## Runtime Versions

java version "1.8.0_121"
Java(TM) SE Runtime Environment (build 1.8.0_121-b13)
Java HotSpot(TM) 64-Bit Server VM (build 25.121-b13, mixed mode)






